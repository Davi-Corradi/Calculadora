import java.util.Scanner;

public class Main {

    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        int opcao;

        do {
            exibirMenu();
            opcao = scanner.nextInt(); // Captura a opção digitada pelo usuário

            if (opcao < 0 || opcao > 4) {
                System.out.println("Opção inválida! Digite um número entre 0 e 4.");
            } else if (opcao != 0) {
                double num1 = solicitarNumero("Digite o primeiro número: ");
                double num2 = solicitarNumero("Digite o segundo número: ");
                
                realizarOperacao(opcao, num1, num2); // Realiza a operação com base na opção escolhida

                // Pergunta se o usuário quer continuar após uma operação válida
                if (!querContinuar(scanner)) {
                    opcao = 0; // Encerra o programa se o usuário digitar 'N'
                }
            }
        } while (opcao != 0); // O loop vai continuar até a opção ser 0 (Sair)

        System.out.println("Programa encerrado!");
        scanner.close();
    }

    // Função para exibir o menu
    public static void exibirMenu() {
        System.out.printf("=======================================\n");
        System.out.printf("\t\t %s \n", "CALCULADORA");
        System.out.printf("=======================================\n");
        System.out.println("\t[1] Adição (+)");
        System.out.println("\t[2] Subtração (-)");
        System.out.println("\t[3] Multiplicação (*)");
        System.out.println("\t[4] Divisão (/)"); 
        System.out.println("\t[0] Sair");
        System.out.printf("=======================================\n");
        System.out.printf("Escolha uma opção: ");
    }

    // Função para solicitar um número
    public static double solicitarNumero(String mensagem) {
        Scanner scanner = new Scanner(System.in);
        System.out.print(mensagem);
        return scanner.nextDouble();
    }

    // Função para realizar a operação com base na opção escolhida
    public static void realizarOperacao(int opcao, double num1, double num2) {
        switch (opcao) {
            case 1: // Adição
                System.out.printf("Resultado: %.2f\n", num1 + num2);
                break;
            case 2: // Subtração
                System.out.printf("Resultado: %.2f\n", num1 - num2);
                break;
            case 3: // Multiplicação
                System.out.printf("Resultado: %.2f\n", num1 * num2);
                break;
            case 4: // Divisão
                if (num2 != 0) {
                    System.out.printf("Resultado: %.2f\n", num1 / num2);
                } else {
                    System.out.println("Erro: Divisão por zero não existe!");
                }
                break;
        }
    }

    // Função para perguntar ao usuário se ele deseja continuar
    public static boolean querContinuar(Scanner scanner) {
        System.out.println("Você quer continuar? [S/N] ");
        scanner.nextLine(); // Limpa o buffer do scanner
        String continuar = scanner.nextLine().toUpperCase();
        return continuar.equals("S");
    }
}
